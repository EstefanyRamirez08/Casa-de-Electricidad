<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <!-- Logo -->
        <a class="navbar-brand" href="/">
            <img class="logo" src="/img/Logo.png" alt="Logo CasaDeElectricidad" width="80">
        </a>

        <!-- BotÃ³n hamburguesa -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Contenido del navbar -->
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav ms-auto gap-2">

                <!-- SecciÃ³n ArtÃ­culos -->
                <li class="nav-item dropdown" th:if="${session.usuariosession != null}">
                    <a class="nav-link dropdown-toggle" href="#" id="articulosDropdown" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false" title="Administrar artÃ­culos">
                        <i class="fas fa-lightbulb"></i> <span class="ms-1">ArtÃ­culos</span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="articulosDropdown">
                        <li><a class="dropdown-item" th:href="@{/articulo/lista}">ğŸ“‹ Listar ArtÃ­culos</a></li>
                        <li sec:authorize="hasRole('ADMIN')"><a class="dropdown-item" th:href="@{/articulo/registrar}">â• Crear ArtÃ­culo</a></li>
                    </ul>
                </li>

                <!-- SecciÃ³n FÃ¡bricas -->
                <li class="nav-item dropdown" th:if="${session.usuariosession != null}">
                    <a class="nav-link dropdown-toggle" href="#" id="fabricasDropdown" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false" title="Administrar fÃ¡bricas">
                        <i class="fas fa-industry"></i> <span class="ms-1">FÃ¡bricas</span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="fabricasDropdown">
                        <li><a class="dropdown-item" th:href="@{/fabrica/lista}">ğŸ­ Listar FÃ¡bricas</a></li>
                        <li sec:authorize="hasRole('ADMIN')"><a class="dropdown-item" th:href="@{/fabrica/registrar}">â• Crear FÃ¡brica</a></li>
                    </ul>
                </li>

                <!-- SecciÃ³n Usuarios (solo Admin) -->
                <li class="nav-item dropdown" sec:authorize="hasRole('ADMIN')" th:if="${session.usuariosession != null}">
                    <a class="nav-link dropdown-toggle" href="#" id="usuariosDropdown" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false" title="GestiÃ³n de usuarios">
                        <i class="fas fa-users-cog"></i> <span class="ms-1">Usuarios</span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="usuariosDropdown">
                        <li><a class="dropdown-item" th:href="@{/admin/usuarios}">ğŸ” Listar Usuarios</a></li>
                    </ul>
                </li>

                <!-- SecciÃ³n Perfil -->
                <li class="nav-item dropdown" th:if="${session.usuariosession != null}">
                    <a class="nav-link dropdown-toggle" href="#" id="perfilDropdown" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false" title="Tu perfil">
                        <i class="fas fa-user-circle"></i> <span class="ms-1">Perfil</span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="perfilDropdown">
                       <!-- <li><a class="dropdown-item" th:href="@{/perfil}">ğŸ›  Editar Perfil</a></li>   -->
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="/logout">ğŸšª Cerrar SesiÃ³n</a></li>
                    </ul>
                </li>

                <!-- Opciones de Registro/Login si NO hay sesiÃ³n -->
                <li class="nav-item" th:if="${session.usuariosession == null}">
                    <a class="nav-link" href="/registrar" title="RegÃ­strate"><i class="fas fa-user-plus"></i> Â¡RegÃ­strate!</a>
                </li>
                <li class="nav-item" th:if="${session.usuariosession == null}">
                    <a class="nav-link" href="/login" title="Iniciar sesiÃ³n"><i class="fas fa-sign-in-alt"></i> Iniciar SesiÃ³n</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<style>
.navbar-nav .nav-link {
    transition: all 0.3s ease;
}

.navbar-nav .nav-link:hover {
    color: #0056b3;
    transform: translateY(-2px);
}

.navbar-nav .dropdown-item:hover {
    background-color: #f0f0f0;
    color: #333;
}
</style>